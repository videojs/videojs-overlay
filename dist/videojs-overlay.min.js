/**
 * videojs-overlay
 * @version 1.0.1
 * @copyright 2016 Brightcove, Inc.
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsOverlay=e()}}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return r(n?n:e)},f,f.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n]+(arguments[n+1]||"");return t.replace(/\s+/g," ").trim()}},{}],2:[function(e,t,n){(function(i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(e,t,n){for(var i=!0;i;){var r=e,o=t,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=o,n=s,i=!0,a=d=void 0}},f=a(['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    '],['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    ']),l=a(["\n          hiding; "," is an integer and overlay should not show at this time\n        "],["\n          hiding; "," is an integer and overlay should not show at this time\n        "]),h=a(["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "],["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "]),p=e("tsmlj"),c=r(p),v="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,y=r(v),_={align:"top-left","class":"",content:"This overlay will show up while the video is playing",debug:!1,overlays:[{start:"playing",end:"paused"}]},g=y["default"].getComponent("Component"),w=function(e){return"number"==typeof e&&e===e},b=function(e){return"string"==typeof e&&/^\S+$/.test(e)},m=function(e){function t(e,n){var i=this;o(this,t),d(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),["start","end"].forEach(function(e){var t=i.options_[e];if(w(t))i[e+"Event_"]="timeupdate";else if(b(t))i[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')}),["endListener_","rewindListener_","startListener_"].forEach(function(e){i[e]=function(n){return t.prototype[e].call(i,n)}}),"timeupdate"===this.startEvent_&&this.on(e,"timeupdate",this.rewindListener_),this.debug((0,c["default"])(f,this.startEvent_,this.endEvent_||"nothing")),this.hide()}return s(t,e),u(t,[{key:"createEl",value:function(){var e=this.options_,t=e.content,n=y["default"].createEl("div",{className:"vjs-overlay vjs-overlay-"+e.align+" "+e["class"]+" vjs-hidden"});return"string"==typeof t?n.innerHTML=t:t instanceof DocumentFragment?n.appendChild(t):y["default"].appendContent(n,t),n}},{key:"debug",value:function(){if(this.options_.debug){for(var e=y["default"].log,t=e,n=arguments.length,i=Array(n),r=0;n>r;r++)i[r]=arguments[r];e.hasOwnProperty(i[0])&&"function"==typeof e[i[0]]&&(t=e[i.shift()]),t.apply(void 0,["overlay#"+this.id()+": "].concat(i))}}},{key:"hide",value:function(){return d(Object.getPrototypeOf(t.prototype),"hide",this).call(this),this.debug("hidden"),this.debug('bound `startListener_` to "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('unbound `endListener_` from "'+this.endEvent_+'"'),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this}},{key:"shouldHide_",value:function(e,t){var n=this.options_.end;return w(n)?e>=n:n===t}},{key:"show",value:function(){return d(Object.getPrototypeOf(t.prototype),"show",this).call(this),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug('unbound `startListener_` from "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('bound `endListener_` to "'+this.endEvent_+'"'),this.on(this.player(),this.endEvent_,this.endListener_)),this}},{key:"shouldShow_",value:function(e,t){var n=this.options_.start,i=this.options_.end;return w(n)?w(i)?e>=n&&i>e:this.hasShownSinceSeek_?Math.floor(e)===n:(this.hasShownSinceSeek_=!0,e>=n):n===t}},{key:"startListener_",value:function(e){var t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()}},{key:"endListener_",value:function(e){var t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()}},{key:"rewindListener_",value:function(e){var t=this.player().currentTime(),n=this.previousTime_,i=this.options_.start,r=this.options_.end;n>t&&(this.debug("rewind detected"),w(r)&&!this.shouldShow_(t)?(this.debug((0,c["default"])(l,r)),this.hasShownSinceSeek_=!1,this.hide()):b(r)&&i>t&&(this.debug((0,c["default"])(h,i,t,r)),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t}}]),t}(g);y["default"].registerComponent("Overlay",m);var O=function(e){var t=this,n=y["default"].mergeOptions(_,e);Array.isArray(this.overlays_)&&this.overlays_.forEach(function(e){return e.dispose()});var i=n.overlays;delete n.overlays,this.overlays_=i.map(function(e){return t.addChild("overlay",y["default"].mergeOptions(n,e))})};O.VERSION="1.0.1",y["default"].plugin("overlay",O),n["default"]=O,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{tsmlj:1}]},{},[2])(2)});